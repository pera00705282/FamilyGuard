# Exchange Connector Module

This module provides a unified interface to interact with various cryptocurrency exchanges. It includes a base exchange class that defines the common interface and specific implementations for each supported exchange.

## Supported Exchanges

- [x] Binance
- [ ] Kraken (coming soon)
- [ ] Coinbase (coming soon)
- [ ] FTX (coming soon)

## Features

- Unified API for multiple exchanges
- Asynchronous operations using asyncio
- Rate limiting and backoff strategies
- Error handling and logging
- Support for REST API and WebSocket (coming soon)

## Installation

```bash
pip install -e .
```

## Usage

### Basic Example

```python
import asyncio
from crypto_trading.exchanges import ExchangeFactory

async def main():
    # Create an exchange instance
    exchange = ExchangeFactory.create_exchange('binance')
    
    try:
        # Connect to the exchange
        await exchange.connect()
        
        # Get ticker for a trading pair
        ticker = await exchange.get_ticker('BTC/USDT')
        print(f"BTC/USDT - Bid: {ticker.bid}, Ask: {ticker.ask}")
        
        # Get order book
        order_book = await exchange.get_order_book('BTC/USDT', limit=5)
        print("Top 5 bids:", order_book.bids[:5])
        print("Top 5 asks:", order_book.asks[:5])
        
    finally:
        # Disconnect from the exchange
        await exchange.disconnect()

asyncio.run(main())
```

### With API Keys

```python
import os
import asyncio
from crypto_trading.exchanges import ExchangeFactory

async def main():
    # Create an exchange instance with API keys
    exchange = ExchangeFactory.create_exchange(
        'binance',
        api_key=os.getenv('BINANCE_API_KEY'),
        api_secret=os.getenv('BINANCE_API_SECRET')
    )
    
    try:
        await exchange.connect()
        
        # Get account balance
        balance = await exchange.get_balance()
        print("Account balance:", balance)
        
        # Place a limit order
        order = await exchange.create_order(
            symbol='BTC/USDT',
            order_type='limit',
            side='buy',
            amount=0.001,  # 0.001 BTC
            price=30000.0  # $30,000 per BTC
        )
        print("Order placed:", order)
        
    finally:
        await exchange.disconnect()

asyncio.run(main())
```

## Adding a New Exchange

1. Create a new file `{exchange_name}_exchange.py` in the `exchanges` directory
2. Implement the `BaseExchange` interface
3. Register the exchange in `exchange_factory.py`
4. Add tests for the new exchange

## Error Handling

The module defines several exception types for different error scenarios:

- `ExchangeError`: Base exception for all exchange-related errors
- `ExchangeConnectionError`: Raised when there is a problem connecting to the exchange
- `ExchangeAuthenticationError`: Raised when there is an authentication error

## Testing

To run the tests:

```bash
pytest tests/test_exchanges.py -v
```

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
